<head th:fragment="head">
    <title>Human Resources</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/w3.css" th:href="@{/css/w3.css}">
    <link rel="stylesheet" href="/css/raleway.css" th:href="@{/css/raleway.css}">
    <link rel="stylesheet" href="/css/fontawesome.css" th:href="@{/css/fontawesome.css}">
    <link rel="stylesheet" href="/css/solid.css" th:href="@{/css/solid.css}">
    <style>
        html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
    </style>
</head>

<!-- Top container -->
<div th:fragment="topbar" class="w3-bar w3-top w3-black w3-large" style="z-index:4">
    <button class="w3-bar-item w3-button w3-hover-none w3-hover-text-light-grey" onclick="hideOrShowSidebar();"><i class="fa fa-bars"></i>  Menu</button>
    <span class="w3-bar-item w3-right">Human Resources</span>
    <script>
        function hideOrShowSidebar() {
            if (sidebar.classList.contains("w3-hide")) {
                sidebar.classList.remove("w3-hide");
                pageContent.style.marginLeft="300px";
            } else {
                sidebar.classList.add("w3-hide");
                pageContent.style.marginLeft="0px";
            }
        }
    </script>
</div>

<!-- Sidebar/menu -->
<nav th:fragment="sidebar" class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="sidebar"><br>
    <div class="w3-bar-block">
        <a href="#" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>Close Menu</a>
        <a href="/" class="w3-bar-item w3-button w3-padding w3-blue"><i class="fa fa-users fa-fw"></i>  Overview</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-eye fa-fw"></i>  Views</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-users fa-fw"></i>  Traffic</a>
        <a href="/geo" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bullseye fa-fw"></i>  Geo</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-diamond fa-fw"></i>  Orders</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bell fa-fw"></i>  News</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bank fa-fw"></i>  General</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-history fa-fw"></i>  History</a>
        <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-cog fa-fw"></i>  Settings</a><br><br>
    </div>
</nav>


<!-- Table -->
<div th:attr="id=${tableId}" th:fragment="table(data, tableId)" class="w3-container">
    <h5 th:text="${data.title}"></h5>
    <p>
        <button class="w3-button w3-blue w3-round-xlarge" style="z-index:0" onclick="openModal(event, null)">Add Region</button>
    </p>
    <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
        <tr th:each="row, rowStats : ${data.rows}">
            <td th:each="column : ${row.columnValues}" th:text="${column}"></td>
            <td th:if="${data.canBeModified}">
                <i class="fa-solid fa-pencil fa-fw w3-text-blue" th:onclick="|openModal(event, ${rowStats.index})|"></i>
            </td>
        </tr>
    </table>
    <br>
    <script th:inline="javascript">
        function openModal(event, rowPosition) {
            if (rowPosition == null)
                modalEvent = new CustomEvent('createModal', { bubbles: true });
            else
                modalEvent = new CustomEvent('modifyModal', { bubbles: true, detail: { numRow: rowPosition }});
            event.target.dispatchEvent(modalEvent);
        }

        tableId = [[${tableId}]];
        window[tableId]=JSON.parse([[${data.json}]]);
    </script>
</div>